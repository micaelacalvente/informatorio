#Realizar una clase que administre una agenda. 
# Se debe almacenar para cada contacto el nombre, el teléfono y el email. 
# Además deberá mostrar un menú con las siguientes opciones.
    #Añadir contacto
    #Lista de contactos
    #Buscar contacto
    #Editar contacto
    #Borrar contacto
    #Cerrar agenda

print('Bienvenido/a a tu Agenda,')
print(' 1.Añadir contacto\n 2.Listar contactos\n 3.Buscar contacto\n 4.Editar contacto\n 5.Borrar contacto\n 6.Cerrar agenda')
opcion = int(input('Elija una opción: '))

class Contacto:
    def __init__(self, nombre, apellido, email):
        self.nombre = nombre
        self.apellido = apellido
        self.email = email

    def __str__(self):
        return '{} {} {}'.format(self.nombre, self.apellido, self.email)

class Agenda:
    def __init__(self, contactos=[]):
        self.contactos = contactos
    
    def añadir_contacto(self, nombre, numero, email):
        contacto = Contacto(nombre, numero, email)
        self.contactos.append(contacto)
   
    def listar_contactos(self):
        for c in self.contactos:
         print(c)

    def buscar_contacto(self, email):
        for c in self.contactos:
            if c.email == email:
                print(c)
                break
        else:
          print('E-mail inexistente')
    
    def editar_contacto(self, email):
        for c in range(0, len(self.contactos)):
            if email == self.contactos[c].email:
              print(f'Contacto encontrado: {self.contactos[c]}')

              print('Ingrese los nuevos datos del contacto: ')
              nombre = str(input('Nombre: '))
              numero = str(input('Número: '))
              email = str(input('E-mail: '))
              
              self.contactos.pop(c)
              
              agenda.añadir_contacto(nombre, numero, email,)
            else:
             print('No se encontró el e-mail ingresado')

    def borrar_contacto(self, email):
        for c,e in enumerate(self.contactos):
            if e.email == email:
                del(self.contactos[c])
                print(str(e),"> CONTACTO BORRADO")
                break
        else:
         print('No se encontro el e-mail ingresado')

nahuel = Contacto("Nahuel", "3735535886","nahue_cge@hotmail.com")
micaela = Contacto("Micaela", "36444300685","micaelacalvente@gmail.com")

agenda = Agenda(contactos=[nahuel, micaela])

while True:
    if opcion == 1:
        print('Ingrese los datos del contacto que desea añadir:')
        nombre = str(input('Nombre: '))
        numero = str(input('Número: '))
        email = str(input('E-mail: '))
        agenda.añadir_contacto(nombre, numero, email)
    elif opcion == 2:
        agenda.listar_contactos()
    elif opcion == 3:
        email = str(input('Ingrese el e-mail del contacto que desea buscar: '))
        agenda.buscar_contacto(email)
    elif opcion == 4:
        email = str(input('Ingrese el e-mail del contacto que desea editar: '))
        agenda.editar_contacto(email)
    elif opcion == 5:
        email = str(input('Ingrese el e-mail del contacto que desea borrar: '))
        agenda.borrar_contacto(email)
    elif opcion == 6:
        print('Gracias por usar tu agenda!')
    else:
        print("El valor ingresado es incorrecto")
    break
